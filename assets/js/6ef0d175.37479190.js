"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[6791],{5747:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"PWA-Integration","title":"PWA Integration Guide","description":"This guide covers the Progressive Web App (PWA) features in Let\'s Stream V2.0 and how to work with them.","source":"@site/../wiki/PWA-Integration.md","sourceDirName":".","slug":"/PWA-Integration","permalink":"/letsstream2/PWA-Integration","draft":false,"unlisted":false,"editUrl":"https://github.com/chintan992/letsstream2/edit/main/wiki/../wiki/PWA-Integration.md","tags":[],"version":"current","frontMatter":{},"sidebar":"wikiSidebar","previous":{"title":"Notifications System","permalink":"/letsstream2/Notifications"},"next":{"title":"Project Structure","permalink":"/letsstream2/Project-Structure"}}');var l=i(4848),t=i(8453);const r={},o="PWA Integration Guide",c={},a=[{value:"Overview",id:"overview",level:2},{value:"PWA Configuration",id:"pwa-configuration",level:2},{value:"Vite PWA Plugin Setup",id:"vite-pwa-plugin-setup",level:3},{value:"Service Worker Features",id:"service-worker-features",level:3},{value:"Installation Flow",id:"installation-flow",level:2},{value:"Install Prompt",id:"install-prompt",level:3},{value:"Caching Strategy",id:"caching-strategy",level:2},{value:"Network-First Strategy",id:"network-first-strategy",level:3},{value:"Cache-First Strategy",id:"cache-first-strategy",level:3},{value:"Offline Support",id:"offline-support",level:2},{value:"Content Availability",id:"content-availability",level:3},{value:"Offline Detection",id:"offline-detection",level:3},{value:"Push Notifications",id:"push-notifications",level:2},{value:"Configuration",id:"configuration",level:3},{value:"Implementation",id:"implementation",level:3},{value:"Background Sync",id:"background-sync",level:2},{value:"Sync Registration",id:"sync-registration",level:3},{value:"Sync Events",id:"sync-events",level:3},{value:"PWA Best Practices",id:"pwa-best-practices",level:2},{value:"Performance",id:"performance",level:3},{value:"Security",id:"security",level:3},{value:"Testing",id:"testing",level:2},{value:"PWA Checklist",id:"pwa-checklist",level:3},{value:"Testing Tools",id:"testing-tools",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Debug Tools",id:"debug-tools",level:3},{value:"Resources",id:"resources",level:2},{value:"Documentation",id:"documentation",level:3},{value:"Tools",id:"tools",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"pwa-integration-guide",children:"PWA Integration Guide"})}),"\n",(0,l.jsx)(n.p,{children:"This guide covers the Progressive Web App (PWA) features in Let's Stream V2.0 and how to work with them."}),"\n",(0,l.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsx)(n.p,{children:"Let's Stream V2.0 is built as a Progressive Web App, offering:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Offline functionality"}),"\n",(0,l.jsx)(n.li,{children:"Installation capability"}),"\n",(0,l.jsx)(n.li,{children:"Push notifications"}),"\n",(0,l.jsx)(n.li,{children:"Background sync"}),"\n",(0,l.jsx)(n.li,{children:"App-like experience"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"pwa-configuration",children:"PWA Configuration"}),"\n",(0,l.jsx)(n.h3,{id:"vite-pwa-plugin-setup",children:"Vite PWA Plugin Setup"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"// Configuration in vite.config.ts\nVitePWA({\n  registerType: 'prompt',\n  includeAssets: [\n    'favicon.ico',\n    'apple-icon-180.png',\n    'manifest-icon-192.maskable.png',\n    'manifest-icon-512.maskable.png'\n  ],\n  manifest: {\n    name: \"Let's Stream V2.0\",\n    short_name: \"Let's Stream\",\n    description: \"Watch movies and TV shows online\",\n    theme_color: '#3b82f6',\n    start_url: '/',\n    display: 'standalone',\n    background_color: '#0f0f0f'\n  }\n})\n"})}),"\n",(0,l.jsx)(n.h3,{id:"service-worker-features",children:"Service Worker Features"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Cache management"}),"\n",(0,l.jsx)(n.li,{children:"API request caching"}),"\n",(0,l.jsx)(n.li,{children:"Offline content serving"}),"\n",(0,l.jsx)(n.li,{children:"Push notification handling"}),"\n",(0,l.jsx)(n.li,{children:"Background sync"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"installation-flow",children:"Installation Flow"}),"\n",(0,l.jsx)(n.h3,{id:"install-prompt",children:"Install Prompt"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"// Example: PWA install prompt component\nconst PWAInstallPrompt = () => {\n  const [showPrompt, setShowPrompt] = useState(false);\n  \n  useEffect(() => {\n    // Listen for beforeinstallprompt\n    window.addEventListener('beforeinstallprompt', (e) => {\n      e.preventDefault();\n      setShowPrompt(true);\n    });\n  }, []);\n\n  return showPrompt ? (\n    <div className=\"pwa-prompt\">\n      <h3>Install App</h3>\n      <p>Install Let's Stream for a better experience!</p>\n      <button onClick={handleInstall}>Install</button>\n    </div>\n  ) : null;\n};\n"})}),"\n",(0,l.jsx)(n.h2,{id:"caching-strategy",children:"Caching Strategy"}),"\n",(0,l.jsx)(n.h3,{id:"network-first-strategy",children:"Network-First Strategy"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Used for dynamic content"}),"\n",(0,l.jsx)(n.li,{children:"Fallback to cache"}),"\n",(0,l.jsx)(n.li,{children:"Regular cache updates"}),"\n",(0,l.jsx)(n.li,{children:"Configurable timeouts"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"cache-first-strategy",children:"Cache-First Strategy"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Static assets"}),"\n",(0,l.jsx)(n.li,{children:"Images and icons"}),"\n",(0,l.jsx)(n.li,{children:"CSS and JavaScript"}),"\n",(0,l.jsx)(n.li,{children:"Fonts and media"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"offline-support",children:"Offline Support"}),"\n",(0,l.jsx)(n.h3,{id:"content-availability",children:"Content Availability"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Cached media metadata"}),"\n",(0,l.jsx)(n.li,{children:"User preferences"}),"\n",(0,l.jsx)(n.li,{children:"Watch history"}),"\n",(0,l.jsx)(n.li,{children:"UI components"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"offline-detection",children:"Offline Detection"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"// Example: Offline status hook\nconst useOfflineStatus = () => {\n  const [isOffline, setIsOffline] = useState(!navigator.onLine);\n\n  useEffect(() => {\n    const handleOnline = () => setIsOffline(false);\n    const handleOffline = () => setIsOffline(true);\n\n    window.addEventListener('online', handleOnline);\n    window.addEventListener('offline', handleOffline);\n\n    return () => {\n      window.removeEventListener('online', handleOnline);\n      window.removeEventListener('offline', handleOffline);\n    };\n  }, []);\n\n  return isOffline;\n};\n"})}),"\n",(0,l.jsx)(n.h2,{id:"push-notifications",children:"Push Notifications"}),"\n",(0,l.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Generate VAPID keys"}),"\n",(0,l.jsx)(n.li,{children:"Configure Firebase Cloud Messaging"}),"\n",(0,l.jsx)(n.li,{children:"Request user permission"}),"\n",(0,l.jsx)(n.li,{children:"Handle push events"}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"implementation",children:"Implementation"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"// Example: Push notification registration\nconst registerPushNotifications = async () => {\n  try {\n    const permission = await Notification.requestPermission();\n    if (permission === 'granted') {\n      const token = await getMessagingToken();\n      await saveUserToken(token);\n    }\n  } catch (error) {\n    console.error('Error registering push notifications:', error);\n  }\n};\n"})}),"\n",(0,l.jsx)(n.h2,{id:"background-sync",children:"Background Sync"}),"\n",(0,l.jsx)(n.h3,{id:"sync-registration",children:"Sync Registration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"// Example: Register background sync\nconst registerSync = async () => {\n  if ('serviceWorker' in navigator && 'SyncManager' in window) {\n    const registration = await navigator.serviceWorker.ready;\n    try {\n      await registration.sync.register('syncUserData');\n    } catch (error) {\n      console.error('Background sync failed:', error);\n    }\n  }\n};\n"})}),"\n",(0,l.jsx)(n.h3,{id:"sync-events",children:"Sync Events"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Watch history sync"}),"\n",(0,l.jsx)(n.li,{children:"User preferences sync"}),"\n",(0,l.jsx)(n.li,{children:"Offline actions queue"}),"\n",(0,l.jsx)(n.li,{children:"Failed request retry"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"pwa-best-practices",children:"PWA Best Practices"}),"\n",(0,l.jsx)(n.h3,{id:"performance",children:"Performance"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Lazy Loading"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Route-based code splitting"}),"\n",(0,l.jsx)(n.li,{children:"Image lazy loading"}),"\n",(0,l.jsx)(n.li,{children:"Component lazy loading"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Asset Optimization"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Image compression"}),"\n",(0,l.jsx)(n.li,{children:"Font subsetting"}),"\n",(0,l.jsx)(n.li,{children:"CSS optimization"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"security",children:"Security"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Data Protection"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Secure storage"}),"\n",(0,l.jsx)(n.li,{children:"Token management"}),"\n",(0,l.jsx)(n.li,{children:"offline data encryption"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Update Management"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Version control"}),"\n",(0,l.jsx)(n.li,{children:"Cache invalidation"}),"\n",(0,l.jsx)(n.li,{children:"Update notification"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,l.jsx)(n.h3,{id:"pwa-checklist",children:"PWA Checklist"}),"\n",(0,l.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Manifest validation"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Service worker registration"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Offline functionality"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Install prompt"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Push notifications"]}),"\n",(0,l.jsxs)(n.li,{className:"task-list-item",children:[(0,l.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Background sync"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"testing-tools",children:"Testing Tools"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Lighthouse"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"PWA score"}),"\n",(0,l.jsx)(n.li,{children:"Performance metrics"}),"\n",(0,l.jsx)(n.li,{children:"Best practices"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Chrome DevTools"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Application tab"}),"\n",(0,l.jsx)(n.li,{children:"Service worker debugging"}),"\n",(0,l.jsx)(n.li,{children:"Cache inspection"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Service Worker"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Registration failures"}),"\n",(0,l.jsx)(n.li,{children:"Update issues"}),"\n",(0,l.jsx)(n.li,{children:"Cache problems"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Installation"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Prompt not showing"}),"\n",(0,l.jsx)(n.li,{children:"Installation failures"}),"\n",(0,l.jsx)(n.li,{children:"Update issues"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Offline Mode"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Cache misses"}),"\n",(0,l.jsx)(n.li,{children:"Sync failures"}),"\n",(0,l.jsx)(n.li,{children:"Data persistence issues"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"debug-tools",children:"Debug Tools"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-typescript",children:"// Example: Service worker debugging\nif (process.env.NODE_ENV === 'development') {\n  window.addEventListener('sw-state-change', (e) => {\n    console.log('Service Worker state:', e.detail);\n  });\n\n  navigator.serviceWorker.addEventListener('message', (event) => {\n    console.log('Message from Service Worker:', event.data);\n  });\n}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,l.jsx)(n.h3,{id:"documentation",children:"Documentation"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://vite-pwa-org.netlify.app/",children:"Vite PWA Plugin"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://developers.google.com/web/tools/workbox",children:"Workbox Documentation"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/Manifest",children:"Web App Manifest"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API",children:"Service Worker API"})}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"tools",children:"Tools"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Lighthouse"}),"\n",(0,l.jsx)(n.li,{children:"Chrome DevTools"}),"\n",(0,l.jsx)(n.li,{children:"PWA Builder"}),"\n",(0,l.jsx)(n.li,{children:"Firebase Console"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>o});var s=i(6540);const l={},t=s.createContext(l);function r(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);